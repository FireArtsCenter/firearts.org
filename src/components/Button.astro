---
import { cn } from '../utils/styles';
import Link from '@/components/Link.astro';
interface Props {
	href?: string;
	isExternal?: boolean;
	appearance?: 'primary' | 'secondary';
	class?: string;
}
const {
	href,
	appearance = 'primary',
	class: overrideStyles,
	isExternal = false,
} = Astro.props;
const appearanceClassNames =
	appearance === 'primary'
		? 'bg-fac-red text-white hover:text-white focus:text-white hover:brightness-150'
		: 'bg-grey-darkest text-white hover:text-white focus:text-white hover:brightness-150';
const buttonStyles = `border-b-0 font-semibold block text-center md:inline-block px-8 py-3 no-underline hover:border-b-0 focus:border-b-0 ${appearanceClassNames}`;

const mergedButtonStyles = cn(buttonStyles, overrideStyles);
if (!href) {
	throw new Error(
		'I do not have a real button yet. Supply an href or add one below'
	);
}
---

{
	href && (
		<Link class={mergedButtonStyles} href={href} isExternal={isExternal}>
			<slot />
		</Link>
	)
}
