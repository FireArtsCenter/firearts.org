---
import Link from '@/components/Link.astro';
import { Image } from 'astro:assets';
import { type TypeContentfulImage } from '@/lib/contentful';

interface Props {
	title: string;
	link: string;
	slug: string;
	summary?: string;
	image?: TypeContentfulImage;
	size?: 'small' | 'default';
}

const { title, link, summary, image, size = 'default' } = Astro.props;
const isSmall = size === 'small';
---

<Link href={link} isNavLink={true} class='group block h-full no-underline'>
	<div
		class={`flex h-full rounded ring-1 ring-fac-orange transition-all duration-300 group-focus-within:ring-4 group-hover:ring-4 ${
			isSmall ? 'flex-row gap-4' : 'flex-col'
		}`}
	>
		{
			image && (
				<div
					class={`overflow-hidden rounded ${isSmall ? 'h-auto w-1/3' : 'w-full'}`}
				>
					<Image
						src={image.src}
						class='h-full w-full object-cover duration-500 ease-in-out group-hover:scale-110'
						alt=''
						width={image.width}
						height={image.height}
					/>
				</div>
			)
		}

		<div class={`p-4 ${isSmall ? 'w-2/3' : 'w-full'}`}>
			<h3 class='text-lg font-bold'>
				{title}
			</h3>

			{summary && !isSmall && <p class='mt-2 text-sm text-white'>{summary}</p>}
		</div>
	</div>
</Link>
