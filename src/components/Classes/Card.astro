---
import Link from '@/components/Link.astro';
import { Image } from 'astro:assets';
import { type TypeContentfulImage } from '@/lib/contentful';

interface Props {
	title: string;
	link: string;
	slug: string;
	summary?: string;
	image?: TypeContentfulImage;
	size?: 'small' | 'default';
}

const { title, link, summary, image, size = 'default' } = Astro.props;
---

{
	size === 'small' ? (
		<div class='group relative flex gap-4 rounded ring-1 ring-fac-orange transition-shadow duration-300 focus-within:ring-4 hover:ring-4'>
			{image && (
				<div class='h-auto w-1/3 overflow-hidden rounded'>
					<Image
						src={image.src}
						class='h-full w-full object-cover duration-500 ease-in-out group-hover:scale-110 group-focus:scale-110'
						alt=''
						width={image.width}
						height={image.height}
					/>
				</div>
			)}
			<div class='p-4'>
				<h3 class='text-lg'>
					<Link
						href={link}
						class='outline-0 after:absolute after:inset-0 after:z-10'
					>
						{title}
					</Link>
				</h3>
			</div>
		</div>
	) : (
		<div class='group relative rounded ring-1 ring-fac-orange transition-shadow duration-300 focus-within:ring-4 hover:ring-4'>
			{image && (
				<div class='overflow-hidden rounded'>
					<Image
						src={image.src}
						class='w-full duration-500 ease-in-out group-hover:scale-110 group-focus:scale-110'
						alt=''
						width={image.width}
						height={image.height}
					/>
				</div>
			)}
			<div class='p-4'>
				<h3 class='text-lg'>
					<Link
						href={link}
						class='outline-0 after:absolute after:inset-0 after:z-10'
					>
						{title}
					</Link>
				</h3>
				<p class='relative z-20 mt-2 text-sm md:text-sm'>{summary}</p>
			</div>
		</div>
	)
}
